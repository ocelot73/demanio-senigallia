/* /public/assets/css/style.css */

/* --- DESIGN SYSTEM E STILI GLOBALI --- */
:root {
    --font-family: 'Titillium Web', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --sidebar-width: 260px;
    --sidebar-width-collapsed: 70px;
    --header-height: 70px;

    /* Colori Tema Chiaro */
    --color-bg: #f8fafc;
    --color-surface: #ffffff;
    --color-border: #e2e8f0;
    --color-text-primary: #0f172a;
    --color-text-secondary: #64748b;
    --color-sidebar-bg: #1e293b;
    --color-sidebar-text: #f1f5f9;
    --color-sidebar-text-secondary: #94a3b8;
    --color-highlight-orange: #ffe7c4;
    --color-highlight-green: #e6fffa;
    --color-zebra-stripe: #f9fafb;

    --color-primary: #3b82f6;
    --color-primary-hover: #2563eb;
    --color-primary-light: #eff6ff;
    --color-success: #2E7D32;
    --color-warning: #F57F17;
    --color-danger: #ef4444;
    --info-color: #0277BD;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --radius-md: 8px;
    --radius-lg: 16px;
    --transition-all: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Colori Tema Scuro */
html.dark-theme {
    --color-bg: #0f172a;
    --color-surface: #1e293b;
    --color-border: #334155;
    --color-text-primary: #f1f5f9;
    --color-text-secondary: #94a3b8;
    --color-sidebar-bg: #0f172a;
    --color-sidebar-text: #f1f5f9;
    --color-sidebar-text-secondary: #94a3b8;
    --color-highlight-orange: #854d0e;
    --color-highlight-green: #004d40;
    --color-zebra-stripe: #131c31;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.2);
}

/* --- LAYOUT PRINCIPALE --- */
body {
    font-family: var(--font-family);
    margin: 0;
    background-color: var(--color-bg);
    color: var(--color-text-primary);
    display: flex;
    transition: var(--transition-all);
}
#sidebar {
    width: var(--sidebar-width);
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    background-color: var(--color-sidebar-bg);
    color: var(--color-sidebar-text);
    display: flex;
    flex-direction: column;
    padding: 1rem 0;
    transition: width 0.3s ease;
    z-index: 100;
    overflow-x: hidden;
}
#main-content {
    width: calc(100% - var(--sidebar-width));
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease, width 0.3s ease;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    height: 100vh;
    box-sizing: border-box;
}
body.sidebar-collapsed #sidebar { width: var(--sidebar-width-collapsed); }
body.sidebar-collapsed #main-content { width: calc(100% - var(--sidebar-width-collapsed)); margin-left: var(--sidebar-width-collapsed); }

/* --- SIDEBAR --- */
.sidebar-header { padding: 0 1.5rem 1.5rem 1.5rem; display: flex; align-items: center; gap: 12px; }
.sidebar-header img { width: 40px; height: 40px; }
.sidebar-header .logo-text { opacity: 1; transition: opacity 0.2s ease; white-space: nowrap; }
.sidebar-header .logo-text h2 { margin: 0; font-size: 1rem; font-weight: 700; color: #fff; }
.sidebar-header .logo-text p { margin: 0; font-size: 0.75rem; color: var(--color-sidebar-text-secondary); }
body.sidebar-collapsed .sidebar-header { justify-content: flex-start; padding-left: 22px; padding-right: 0; }
body.sidebar-collapsed .logo-text { opacity: 0; pointer-events: none; width: 0; }
.sidebar-nav { flex-grow: 1; list-style: none; padding: 0; margin: 0; overflow-y: auto; }
.sidebar-nav a, .sidebar-footer button, .sidebar-footer a { font-family: var(--font-family); display: flex; align-items: center; gap: 1rem; padding: 0.8rem 1.75rem; color: var(--color-sidebar-text-secondary); text-decoration: none; font-weight: 600; font-size: 0.9rem; white-space: nowrap; transition: all 0.2s ease; border-left: 3px solid transparent; }
.sidebar-nav a i, .sidebar-footer i { font-size: 1.1rem; width: 24px; text-align: center; }
.sidebar-nav a:hover { color: var(--color-sidebar-text); background-color: rgba(255,255,255,0.05); }
.sidebar-nav a.active { color: #fff; background-color: var(--color-primary); border-left-color: #fff; }
body.sidebar-collapsed .sidebar-nav a > span { opacity: 0; width: 0; pointer-events: none; }
body.sidebar-collapsed .sidebar-nav a { justify-content: flex-start; padding-left: 23px; padding-right: 0; }
.sidebar-footer { padding: 1rem 1.75rem; border-top: 1px solid #475569; }
.sidebar-footer a, .sidebar-footer button { width:100%; background: none; border: none; cursor: pointer; }
body.sidebar-collapsed .sidebar-footer { padding: 1rem 0; }
body.sidebar-collapsed .sidebar-footer a, body.sidebar-collapsed .sidebar-footer button { justify-content: flex-start; padding-left: 23px; padding-right: 0; }
.sidebar-footer .link-text { opacity: 1; transition: opacity 0.2s ease; }
body.sidebar-collapsed .link-text { opacity: 0; width: 0; pointer-events: none; }
.theme-switcher { margin-bottom: 1rem; }
.submenu-toggle { position: relative; }
.submenu-arrow { position: absolute; right: 1.5rem; transition: transform 0.3s ease; }
.has-submenu.open > .submenu-toggle .submenu-arrow { transform: rotate(90deg); }
.submenu { list-style: none; padding: 0; margin: 0; background: rgba(0,0,0,0.2); max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
.has-submenu.open > .submenu { max-height: 500px; }
.submenu a { padding-left: 3.75rem; font-size: 0.85rem; }
.submenu a.active { background-color: var(--color-primary-hover); }
body.sidebar-collapsed .submenu-arrow { display: none; }
body.sidebar-collapsed .has-submenu.open { background-color: transparent; }
body.sidebar-collapsed .submenu { background: rgba(0,0,0,0.3); }
body.sidebar-collapsed .submenu a { padding-left: 23px; padding-right: 0; justify-content: flex-start; }

/* --- MAIN CONTENT HEADER --- */
.main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-shrink: 0; }
.header-left { display: flex; align-items: center; gap: 1rem; }
#sidebar-toggle { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--color-text-secondary); padding: 5px; }
.page-title h1 { margin: 0; font-size: 1.75rem; font-weight: 700; color: var(--color-text-primary); }
.page-title p { margin: 0; color: var(--color-text-secondary); }
.header-right { display: flex; align-items: center; gap: 1rem; }
.global-search { position: relative; }
.global-search i { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: var(--color-text-secondary); }
#globalSearch { padding: 10px 14px 10px 40px; border-radius: var(--radius-md); border: 1px solid var(--color-border); width: 250px; transition: var(--transition-all); background-color: var(--color-surface); color: var(--color-text-primary); font-family: var(--font-family); }
#globalSearch:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px var(--color-primary-light); }
#clearSearch { background: none; border: none; font-size: 1.2rem; cursor: pointer; color: var(--color-text-secondary); position: absolute; right: 10px; top: 50%; transform: translateY(-50%); display: none; }

/* --- CONTROLS & FILTERS --- */
.controls-bar { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; }
.btn-group { display: flex; gap: 0.5rem; flex-wrap: wrap; }
.btn, select.btn { background-color: var(--color-surface); border: 1px solid var(--color-border); padding: 8px 14px; border-radius: var(--radius-md); font-weight: 600; cursor: pointer; transition: var(--transition-all); display: inline-flex; align-items: center; gap: 0.5rem; text-decoration: none; color: var(--color-text-primary); font-family: var(--font-family); font-size: 14px; }
select.btn { -webkit-appearance: none; -moz-appearance: none; appearance: none; padding-right: 30px; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-position: right 0.5rem center; background-repeat: no-repeat; background-size: 1.5em 1.5em; }
.btn:hover { background-color: var(--color-bg); border-color: #cbd5e1; }
.btn.btn-primary { background-color: var(--color-primary); color: #fff; border-color: var(--color-primary); }
.btn.btn-primary:hover { background-color: var(--color-primary-hover); }
.btn i { font-size: 0.9em; }

/* --- HIDDEN COLUMNS BAR --- */
.hidden-columns-bar { background: var(--color-primary-light); padding: 0.75rem 1rem; margin-bottom: 1rem; border-radius: var(--radius-md); border-left: 4px solid var(--color-primary); display: none; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
.hidden-column-tag { background: #fff; border: 1px solid var(--color-border); padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: inline-flex; align-items: center; gap: 6px; }
.hidden-column-tag button { background: none; border: none; color: var(--color-text-secondary); cursor: pointer; font-size: 1rem; padding: 0; line-height: 1; font-family: var(--font-family); }
html.dark-theme .hidden-columns-bar { background-color: color-mix(in srgb, var(--color-primary) 25%, transparent); color: var(--color-text-primary); }
html.dark-theme .hidden-column-tag { background: var(--color-surface); color: var(--color-text-primary); border-color: var(--color-border); }
html.dark-theme .hidden-column-tag button { color: var(--color-text-secondary); }

/* --- TABLE CONTAINER & TABLE --- */
.table-container { flex-grow: 1; overflow: auto; border: 1px solid var(--color-border); border-radius: var(--radius-lg); background: var(--color-surface); box-shadow: var(--shadow-sm); scrollbar-gutter: stable both-edges; }
table { border-collapse: collapse; width: 100%; table-layout: fixed; }
th, td { padding: 8px 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; border-bottom: 1px solid var(--color-border); font-size: 0.85rem; transition: background-color: 0.3s; }
th { background-color: var(--color-bg); color: var(--color-text-secondary); position: sticky; top: 0; z-index: 2; user-select: none; font-weight: 700; text-transform: uppercase; font-size: 0.75rem; width: max-content; }
th[data-column="verifica"], th[data-column="pec inviata"] { width: 80px; min-width: 20px; }
th.filtered { background: var(--color-primary-light); }
tbody tr:nth-child(even) { background-color: var(--color-zebra-stripe); }
tbody tr:hover { background-color: color-mix(in srgb, var(--color-primary) 10%, transparent); }
tbody tr.row-selected { background-color: var(--color-highlight-green) !important; font-weight: 600; }
tbody tr.no-verifica { background-color: var(--color-highlight-orange) !important; }
tbody tr.no-verifica:hover { background-color: color-mix(in srgb, var(--color-highlight-orange) 85%, #000) !important; }
mark.hl { background: #fde047; padding: 0 2px; border-radius: 2px; }
.resizer { position: absolute; top: 0; right: 0; width: 5px; cursor: col-resize; height: 100%; z-index: 10; }
.header-content { display: flex; justify-content: space-between; align-items: center; }
.header-title-actions { display: flex; align-items: center; gap: 4px; }
.col-title { flex-grow: 1; }
.sort-btn, .toggle-btn { background: none; border: none; color: var(--color-text-secondary); cursor: pointer; padding: 4px; border-radius: 50%; width: 24px; height: 24px; transition: all 0.2s; }
.sort-btn:hover, .toggle-btn:hover { background-color: var(--color-border); }
.sort-btn.active { color: var(--color-primary); }
.filter-input { width: 100%; box-sizing: border-box; font-size: 0.8rem; padding: 4px 6px; border: 1px solid var(--color-border); border-radius: 4px; margin-top: 4px; background-color: var(--color-surface); color: var(--color-text-primary); font-family: var(--font-family); }
.row-actions { display: inline-flex; align-items: center; gap: 1rem; }
.details-btn, .edit-btn { color: var(--color-text-secondary); text-decoration: none; font-size: 1.1em; transition: all 0.2s; }
.details-btn:hover { color: var(--color-primary); transform: scale(1.1); }
.edit-btn:hover { color: var(--color-warning); transform: scale(1.1); }
.icon-check { color: var(--color-success); font-weight: bold; }
.icon-cross { color: var(--color-danger); font-weight: bold; }
.width-mode-content { table-layout: auto; width: auto; }
.width-mode-narrow th, .width-mode-narrow td { width: 50px; }
.width-mode-narrow th[data-column*="concessionario"] { width: 250px; }
#dataTable thead th[data-column] { cursor: grab; }
#dataTable thead th.ui-sortable-placeholder { background: var(--color-primary-light); visibility: visible !important; border: 2px dashed var(--color-primary); }
#dataTable thead th.ui-sortable-helper { cursor: grabbing; background: var(--color-surface); box-shadow: var(--shadow-lg); border: 1px solid var(--color-border); }

/* --- PAGINATION --- */
.pagination { display: flex; justify-content: center; align-items: center; margin-top: 1rem; flex-shrink: 0; gap: 4px; user-select: none; }
.pagination a, .pagination span { padding: 6px 12px; text-decoration: none; border: 1px solid var(--color-border); color: var(--color-primary); border-radius: var(--radius-md); font-size: 0.85rem; font-weight: 600; transition: all 0.2s; }
.pagination a:hover { background: var(--color-primary-light); }
.pagination .current { background: var(--color-primary); color: #fff; border-color: var(--color-primary); }
.pagination .disabled { color: var(--color-text-secondary); cursor: not-allowed; background: var(--color-bg); }

/* --- MODALS --- */
.modal-overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(5px); z-index: 1000; display: none; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s ease; }
.modal-overlay.open { opacity: 1; }
.modal-container { background: var(--color-bg); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); width: 95vw; height: 90vh; max-width: 1400px; display: flex; flex-direction: column; transform: scale(0.95); transition: transform 0.3s ease; }
.modal-overlay.open .modal-container { transform: scale(1); }
.modal-header { padding: 1rem 1.5rem; border-bottom: 1px solid var(--color-border); display: flex; justify-content: space-between; align-items: center; background: var(--color-surface); border-top-left-radius: var(--radius-lg); border-top-right-radius: var(--radius-lg); }
.modal-header h2 { margin: 0; font-size: 1.25rem; }
.modal-subtitle { color: var(--color-text-secondary); font-size: 0.85rem; }
.modal-close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--color-text-secondary); }
.modal-body { display: flex; flex-grow: 1; overflow: hidden; }
.modal-nav { width: 250px; border-right: 1px solid var(--color-border); padding: 1rem; background: var(--color-surface); overflow-y: auto; }
.modal-content { flex-grow: 1; padding: 1.5rem; overflow-y: auto; }
.nav-button { display: flex; width: 100%; text-align: left; padding: 7px 14px; margin-bottom: 3px; border: 1px solid var(--color-border); border-radius: var(--radius-md); cursor: pointer; font-weight: 600; background: transparent; color: var(--color-text-primary); transition: all .2s; font-family: var(--font-family); }
.nav-button:hover:not(.active) { border-color: var(--color-primary); color: var(--color-primary); background: var(--color-primary-light); }
.nav-button.active { color: #fff; background: var(--color-primary); border-color: var(--color-primary); }
.nav-button.disabled { opacity: 0.5; cursor: not-allowed; background-color: transparent !important; color: var(--color-text-secondary) !important; border-color: var(--color-border) !important; }
.nav-button i { margin-right: 10px; }
.record-card { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: 1rem; margin-bottom: 1rem; display: grid; gap: 1rem 1.5rem; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
.detail-item-label { font-weight: 600; color: var(--color-text-secondary); font-size: 0.75rem; text-transform: uppercase; margin-bottom: 4px; }
.detail-item-value { color: var(--color-text-primary); font-size: 0.9rem; word-break: break-word; }
.modal-footer { display: flex; gap: 0.5rem; justify-content: flex-end; padding: 1rem 1.5rem; border-top: 1px solid var(--color-border); background-color: var(--color-surface); border-bottom-left-radius: var(--radius-lg); border-bottom-right-radius: var(--radius-lg); }
.badge { padding: 3px 8px; border-radius: 12px; font-weight: 600; font-size: 0.8rem; display: inline; line-height: 1.6; box-decoration-break: clone; -webkit-box-decoration-break: clone; }
.badge-blue { background-color: #eff6ff; color: #1e40af; border: 1px solid #dbeafe; }
.badge-orange { background-color: #fff7ed; color: #9a3412; border: 1px solid #ffedd5; }
.badge-purple { background-color: #f5f3ff; color: #5b21b6; border: 1px solid #ede9fe; }
html.dark-theme .badge-blue { background-color: #1e3a8a; color: #bfdbfe; border: 1px solid #1e40af; }
html.dark-theme .badge-orange { background-color: #7c2d12; color: #fed7aa; border: 1px solid #9a3412; }
html.dark-theme .badge-purple { background-color: #4c1d95; color: #ddd6fe; border: 1px solid #5b21b6; }

/* --- EDIT MODAL --- */
#editModal .modal-container { max-width: 90vw; width: 1400px; height: 95vh; }
#editModal .modal-content { padding: 1.5rem; overflow-y: auto; }
#editForm { box-sizing: border-box; }
#editAlert {display:none;color:var(--color-danger);font-weight:600;margin-bottom:10px;background:#fee2e2;padding:1rem;border-radius:var(--radius-md)}
html.dark-theme #editAlert { background: #450a0a; border-color: #7f1d1d; }
.accordion-item { border: 1px solid var(--color-border); border-radius: var(--radius-lg); margin-bottom: 1rem; background-color: color-mix(in srgb, var(--color-surface) 50%, transparent); overflow: hidden; }
.accordion-header { background-color: color-mix(in srgb, var(--color-surface) 70%, transparent); padding: 0.75rem 1.25rem; cursor: pointer; font-size: 1.1rem; font-weight: 700; display: flex; justify-content: space-between; align-items: center; user-select: none; transition: all 0.2s ease; }
.accordion-header.has-active-fields { background-color: var(--color-primary-light); color: var(--color-primary); }
html.dark-theme .accordion-header.has-active-fields { background-color: color-mix(in srgb, var(--color-primary) 25%, transparent); }
.accordion-header::after { content: '\f078'; font-family: 'Font Awesome 6 Free'; font-weight: 900; transition: transform 0.3s ease; }
.accordion-item.open .accordion-header::after { transform: rotate(-180deg); }
.accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out, padding 0.3s ease-out; padding: 0 1.5rem; }
.accordion-item.open .accordion-content { max-height: 2000px; padding: 1.5rem; }
.edit-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem; }
.edit-field { position: relative; }
.edit-field-container { position: relative; background-color: var(--color-bg); border-radius: var(--radius-md) var(--radius-md) 0 0; padding: 22px 14px 8px 14px; border: 1px solid var(--color-border); border-bottom: 2px solid var(--color-border); transition: all 0.2s ease; }
.edit-field-container:focus-within { border-bottom-color: var(--color-primary); }
.edit-field-container.is-readonly { background-color: var(--color-surface); cursor: not-allowed; opacity: 0.7; }
.edit-field .edit-input, .edit-field select.edit-input { width: 100%; border: none; outline: none; font-family: var(--font-family); font-size: 1rem; background: transparent; color: var(--color-text-primary); padding: 0; }
.edit-field .edit-input::placeholder { color: transparent; }
.edit-field .edit-input[readonly] { cursor: not-allowed; color: var(--color-text-secondary); }
.edit-field select.edit-input { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-position: right 0 center; background-repeat: no-repeat; background-size: 1.5em 1.5em; padding-right: 1.5em; }
html.dark-theme .edit-field select.edit-input { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2364748b' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); }
.edit-field-label { position: absolute; top: 16px; left: 14px; font-size: 1rem; color: var(--color-text-secondary); pointer-events: none; transition: all 0.2s ease; display: flex; align-items: center; gap: 6px; background-color: var(--color-bg); padding: 0 4px; }
.edit-field-container.is-readonly .edit-field-label { background-color: var(--color-surface); }
.edit-input:focus + .edit-field-label, .edit-input:not(:placeholder-shown) + .edit-field-label, select.edit-input:valid + .edit-field-label { top: -10px; left: 10px; font-size: 0.8rem; color: var(--color-primary); font-weight: 700; }
.help-dot{ --md-surface:#F1F3FF; --md-outline:#C5CAE9; --md-ink:#0D47A1; position:relative;display:inline-flex;align-items:center;justify-content:center; width:22px;height:22px;border-radius:50%; background:var(--md-surface); border:1px solid var(--md-outline); color:var(--md-ink); font-weight:800;font-size:12px;line-height:1; cursor:pointer;overflow:hidden; box-shadow:0 1px 2px rgba(13, 71, 161, .15), 0 2px 6px rgba(13, 71, 161, .08); transition:transform .12s ease, box-shadow .2s ease, background .2s ease; font-family: var(--font-family); pointer-events: all; }
.help-dot:hover{ transform:translateY(-1px); box-shadow:0 4px 10px rgba(13,71,161,.18); background:#EBEEFF; }
.help-dot:active{ transform:scale(.97); }
.help-pop{position:fixed;z-index:9999;min-width:260px;max-width:520px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);padding:12px 14px;display:none;font-family:var(--font-family); opacity: 0; transition: opacity 0.2s ease-in-out; max-height: calc(100vh - 20px); overflow-y: auto;}
.help-pop.open{display:block; opacity: 1;}
.help-title{font-weight:700;margin:0 0 6px 0;font-size:1rem;color:var(--color-primary); cursor: move; user-select: none;}
.help-sub{font-size:0.8rem;color:var(--color-text-secondary);margin-bottom:6px;font-style:italic}
.help-content{font-size:0.9rem;line-height:1.4;color:var(--color-text-primary); font-weight:400;}
.help-close{position:absolute;top:6px;right:8px;background:none;border:none;color:var(--color-text-secondary);font-size:16px;cursor:pointer}

/* --- PAGINA IMPORTAZIONE --- */
.import-container .card-container { background: var(--color-surface); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); padding: 2.5rem; border: 1px solid var(--color-border); max-width: 800px; margin: 2rem auto; }
.import-container #uploaderCard { text-align: center; }
.import-container #drop-zone { border: 2px dashed #ccc; border-radius: 12px; padding: 50px 25px; transition: border-color 0.3s, background-color 0.3s; cursor: pointer; margin-bottom: 1.5rem; }
.import-container #drop-zone.dragover { border-color: var(--color-primary); background-color: color-mix(in srgb, var(--color-primary) 10%, transparent); }
.import-container #drop-zone .icon { font-size: 3rem; color: var(--color-primary); margin-bottom: 1rem; display: block; }
.import-container #drop-zone p { margin: 0; font-size: 1.1rem; color: var(--color-text-secondary); }
.import-container #drop-zone .browse-link { color: var(--color-primary); font-weight: 600; cursor: pointer; }
.import-container #fileInfo { display: none; align-items: center; justify-content: center; gap: 10px; margin-top: 1rem; font-size: 1rem; color: var(--color-text-primary); margin-bottom: 1.5rem; }
.import-container #uploadButton { width: auto; padding: 12px 32px; font-size: 1rem; }
.import-container #uploadButton:disabled { background-color: #ccc; cursor: not-allowed; box-shadow: none; border-color: #ccc; color: #666; }
.import-container #progressCard { display: none; }
.import-container #progress-bar-container { background-color: #e9ecef; border-radius: 20px; overflow: hidden; height: 10px; margin-bottom: 1rem; }
.import-container #progress-bar { width: 0%; height: 100%; background-color: var(--color-primary); border-radius: 20px; transition: width 0.2s linear, background-color 0.4s; }
.import-container #progress-bar.error { background-color: var(--color-danger); }
.import-container #progress-bar.warning { background-color: var(--color-warning); }
.import-container #progress-text { text-align: right; font-size: 0.9rem; color: var(--color-text-secondary); font-weight: 500; margin-bottom: 1.5rem; }
.import-container #logContainer { margin-top: 1.5rem; background-color: var(--color-bg); border: 1px solid var(--color-border); border-radius: 12px; padding: 1rem; height: 350px; overflow-y: auto; font-size: 14px; line-height: 1.6; }
.import-container .log-item { display: flex; align-items: flex-start; gap: 12px; padding: 8px; border-bottom: 1px solid #f0f0f0; }
html.dark-theme .import-container .log-item { border-bottom-color: #334155; }
.import-container .log-item:last-child { border-bottom: none; }
.import-container .log-item .icon { width: 20px; text-align: center; padding-top: 2px; font-size: 1.1em; }
.import-container .log-item .message { flex: 1; word-break: break-word; }
.import-container .log-item.status-info .icon { color: var(--info-color); }
.import-container .log-item.status-success .icon { color: var(--color-success); }
.import-container .log-item.status-warning .icon { color: var(--color-warning); }
.import-container .log-item.status-error .icon { color: var(--color-danger); }
.import-container .final-actions { text-align: center; margin-top: 2rem; display: none; }

/* --- RESPONSIVE --- */
@media (max-width: 768px) {
    body { flex-direction: column; }
    #sidebar { width: 100%; height: auto; position: static; flex-direction: row; align-items: center; justify-content: space-between; }
    .sidebar-header { padding: 0.5rem 1rem; }
    .sidebar-nav { display: flex; flex-direction: row; }
    .sidebar-nav a span, .sidebar-header .logo-text, .sidebar-footer { display: none; }
     body.sidebar-collapsed #sidebar, #sidebar { width: 100%; }
    #main-content { width: 100%; margin-left: 0; }
}

